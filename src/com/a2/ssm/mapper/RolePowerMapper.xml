<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.a2.ssm.mapper.RolePowerMapper" >
  <resultMap id="rolePowerResultMap" type="com.a2.ssm.model.RolePower" >
    <id column="rp_id" property="rpId" jdbcType="INTEGER" />
    <result column="rp_roleId" property="rpRoleid" jdbcType="INTEGER" />
    <result column="rp_powerId" property="rpPowerid" jdbcType="INTEGER" />
  </resultMap>
  
  	<sql id="Base_Column_List">
		 rp_id,	rp_roleId,	rp_powerId
	</sql>
  
  	<!-- 查询全部RolePower -->
	<select id="list" resultMap="rolePowerResultMap">
		select *from t_role_power
	</select>
	<!-- 根据id查询角色权限关系信息  -->
	<select id="getById" resultMap="rolePowerResultMap" parameterType="int">
		select *from t_role_power where rp_id=#{rpId}
	</select>
	<select id="listByRoleId" resultMap="rolePowerResultMap" parameterType="int">
		select *from t_role_power where rp_roleId=#{rpRoleid}
	</select>
	<!-- 更新角色权限关系信息 -->
	<update id="update" parameterType="com.a2.ssm.model.RolePower">
		update t_role_power set rp_roleId=#{rpRoleid}, rp_powerId=#{rpPowerid} where rp_id=#{rpId}
	</update>
	<!-- 删除角色权限关系信息 -->
	<delete id="delete">
		delete from t_role_power where rp_id=#{rpId}
	</delete>
	<!-- 添加角色权限关系 -->
  	<insert id="save">
  		insert into t_role_power(rp_id,rp_roleId,rp_powerId) values(#{rpId},#{rpRoleid},#{rpPowerid})
  	</insert>
</mapper>