<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.a2.ssm.mapper.CartMapper" >
  <!-- 解决表名与字段不匹配 -->
  <resultMap id="cartResultMap" type="com.a2.ssm.model.Cart" >
    <id column="c_id" property="cId" jdbcType="INTEGER" />
    <result column="c_num" property="cNum" jdbcType="VARCHAR" />
    <result column="c_createTime" property="cCreatetime" jdbcType="VARCHAR" />
    <result column="c_productId" property="cProductid" jdbcType="INTEGER" />
    <result column="c_userId" property="cUserid" jdbcType="INTEGER" />
  </resultMap>
  
 	<!-- 查询全部Cart -->
	<select id="list" resultMap="cartResultMap">
		select *from t_cart
	</select>
	<!-- 根据id查询购物车信息  -->
	<select id="getById" resultMap="cartResultMap" parameterType="int">
		select *from t_cart where c_userId=#{cUserid}
	</select>
	<!-- 更新购物车信息 -->
	<update id="update" parameterType="com.a2.ssm.model.Cart">
		update t_cart set c_num=#{cNum}, c_createTime=#{cCreatetime}, c_productId=#{cProductid}, c_userId=#{cUserid} where c_id=#{cId}
	</update>
	<!-- 删除购物车信息 -->
	<delete id="delete" parameterType="int">
		delete from t_cart where c_id=#{cId};
	</delete>
	<!-- 添加购物车 -->
	<insert id="save" parameterType="com.a2.ssm.model.Cart">
		insert into t_cart(c_num,c_createTime,c_productId,c_userId) values(#{cNum},#{cCreatetime},#{cProductid},#{cUserid})
	</insert>
</mapper>